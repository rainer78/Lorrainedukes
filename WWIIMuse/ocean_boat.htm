<!DOCTYPE html>
<html>
<head>
    <title>A-Frame Scene with Ocean and Video</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alvinwan/aframe-low-poly@0.0.5/dist/aframe-low-poly.min.js"></script>
    <script>
        AFRAME.registerComponent('dynamic-ocean', {
            init: function () {
                this.el.setAttribute('geometry', {
                    primitive: 'plane',
                    width: 500,
                    height: 500,
                    segmentsWidth: 50,
                    segmentsHeight: 50
                });
                this.el.setAttribute('material', {
                    color: 'blue',
                    side: 'double'
                });
                this.el.object3D.rotation.x = -Math.PI / 2;
            },
            tick: function (time) {
                var vertices = this.el.getObject3D('mesh').geometry.attributes.position.array;
                for (let i = 0; i < vertices.length; i += 3) {
                    vertices[i + 2] = Math.sin((vertices[i] + time * 0.0005) * 2 * Math.PI / 50) * 2;
                }
                this.el.getObject3D('mesh').geometry.attributes.position.needsUpdate = true;
            }
        });
    </script>
</head>
<body>
    <a-scene>
        <a-entity environment="preset: osiris;"></a-entity>
        <a-entity dynamic-ocean position="0 2 0"></a-entity>
        <lp-sphere position="0 0 0"></lp-sphere>

        <!-- Standard Video Element -->
        <a-video src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" width="16" height="9" position="0 5 -20"></a-video>
        
        <a-camera position="0 8 10">
            <a-cursor color="#FFF" fuse="true" fuse-timeout="1500"></a-cursor>
            <a-entity oculus-touch-controls></a-entity>
        </a-camera>
        
    </a-scene>
</body>
</html>

