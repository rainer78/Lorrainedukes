<!DOCTYPE html>
<html>
<head>
    <title>A-Frame Scene with Ocean and Video</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alvinwan/aframe-low-poly@0.0.5/dist/aframe-low-poly.min.js"></script>
    <script>
        AFRAME.registerComponent('dynamic-ocean', {
            init: function () {
                this.el.setAttribute('geometry', {
                    primitive: 'plane',
                    width: 500,
                    height: 500,
                    segmentsWidth: 50,
                    segmentsHeight: 50
                });
                this.el.setAttribute('material', {
                    color: 'deepskyblue', // Lighter color for water
                    metalness: 0.5,
                    roughness: 0.3,
                    side: 'double'
                });
                this.el.object3D.rotation.x = -Math.PI / 2;
            },
            tick: function (time) {
                var vertices = this.el.getObject3D('mesh').geometry.attributes.position.array;
                var waveAmplitude = 3;
                var waveFrequency = 0.1;
                var waveSpeed = 0.0001;
                for (let i = 0; i < vertices.length; i += 3) {
                    vertices[i + 2] = Math.sin((vertices[i] * waveFrequency + time * waveSpeed) * 2 * Math.PI) * waveAmplitude;
                }
                this.el.getObject3D('mesh').geometry.attributes.position.needsUpdate = true;
            }
        });   
    </script>
</head>
<body>
    <a-scene>
        <a-entity light="type: directional; color: #FFF; intensity: 1" position="-1 1 0"></a-entity>
        <a-entity environment="preset: osiris;"></a-entity>
        <a-entity dynamic-ocean position="0 3 0"></a-entity>
      

        <!-- Standard Video Element -->
        <a-video src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" width="16" height="9" position="0 5 -14"></a-video>
        
        <a-camera position="0 8 10">
            <a-cursor color="#FFF" fuse="true" fuse-timeout="1500"></a-cursor>
            <a-entity oculus-touch-controls></a-entity>
        </a-camera>
        
    </a-scene>
</body>
</html>

